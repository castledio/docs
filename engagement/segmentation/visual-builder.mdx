---
title: "Visual Builder"
---

Castled provides a Visual segment builder to enable the marketers to create custom segments tailor made for running the most hyper personalised campaigns.

Using our visual builder the marketers will be able to filter the customers/leads based on the conditions belows :
- Have a property
- Have a relation
- Performed an event
- Part of a segment

Let us look into each of these options in detail

## Have a property

Have a property option is used for filtering the user segment based on User properties. All the data warehouse columns of the user entity which are exposed by the data team as part of the User object defintion will be available for segmentation.

### 1. Select the Have a property option.
![](/images/property-1.png)

### 2. Select the User property to be used for filtering.  

All the User properties exposed by the data team will be listed. There is no restriction on the number of User properties which can be used.
![](/images/property-2.png)

### 3. Select the conditional operator.  

Select the conditional operator to be used for the User property selected in the step above. The conditional operators available for each data type is listed [here](engagement/segmentation/segment-filter)

Conditional operator options for Numeric data type.  
![](/images/property-3.png)

Conditional operator options for String data type.  
![](/images/property-4.png)

Equals operator for a String data type.  
![](/images/property-5.png)

Adding the between operator for Numeric data type.  
![](/images/property-6.png)

![](/images/property-7.png)

### 4. Multiple filters can be added.

![](/images/property-8.png)

## Have a relation  

Have a relation option is used for adding filter conditions based on the related objects. It option is used in scenarios where the User object is related to other logical entities and the relationship is captured in the User schema definition. Related objects can be other User objects or any Custom object defined as per the business requirements.  

### 1. Select the Have a relation option.

![](/images/related-1.png)

### 2. Select the related object.

![](/images/related-2.png)

![](/images/related-3.png)

### 3. Select property filters of the related objects if required.

![](/images/related-4.png)

![](/images/related-5.png)

## Performed an event 

Performed an event option is used for filtering users based on the actions they performed in the app. User actions which needs to be used in segmentation needs to be identified and captured as Event objects by the data team based on the business requirements. Once the events are captured, the marketer will be able to use the events for filtering. 

### 1. Select the event performed by the user.  

Select the Performed an event option. This will list all the events which are associated with the User object selected for segmentation.

![](/images/performed-event-1.png)

### 2. Enter the conditions associated with the performed event.  

Conditions available are :
1. At least X times
2. At most X times 
3. Equals X times.
where X is the number of times the action or event was repeated by the user.

![](/images/performed-event-2.png)

![](/images/performed-event-3.png)

### 3. Select the event which was not peformed subsequently if required.  

Castled provides an option to select another event which was not performed with in a stipulated time after the event selected in the step above was performed. The time gap can be captured in minutes, hours or days.

![](/images/performed-event-4.png)

### 4. Adding more filter conditions to the performed event.  

Castled provides option to add more filters using the properties of the event which was performed. The event properties to be exposed to the marketers are to be captured by the data team while creating the Event objects.  

![](/images/performed-event-5.png)

## Part of a segment 

Part of a segment option is used for excluding or including users part of another segment while creating a new segment.

### 1. Select the Part of a segment option.

![](/images/segment-part-1.png)

### 2. Include or Exclude an exisitng User segment.

Select the include/exclude option based on whether another segment of User is to be included or excluded from this segment being created.

![](/images/segment-part-2.png)

### 3. Select the segment to be included or excluded.

![](/images/segment-part-3.png)

![](/images/segment-part-4.png)